\doxysection{winter\+::Tcp\+Server类 参考}
\label{classwinter_1_1TcpServer}\index{winter::TcpServer@{winter::TcpServer}}


TCP服务器封装  




{\ttfamily \#include $<$tcp\+\_\+server.\+h$>$}



类 winter\+::Tcp\+Server 继承关系图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=318pt]{classwinter_1_1TcpServer__inherit__graph}
\end{center}
\end{figure}


winter\+::Tcp\+Server 的协作图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=318pt]{classwinter_1_1TcpServer__coll__graph}
\end{center}
\end{figure}
\doxysubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{classwinter_1_1TcpServer_a19e6f0a28895a8e3e6c8d55491504a45}} 
typedef std\+::shared\+\_\+ptr$<$ \textbf{ Tcp\+Server} $>$ {\bfseries ptr}
\end{DoxyCompactItemize}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\textbf{ Tcp\+Server} (\textbf{ winter\+::\+IOManager} $\ast$woker=\textbf{ winter\+::\+IOManager\+::\+Get\+This}(), \textbf{ winter\+::\+IOManager} $\ast$accept\+\_\+woker=\textbf{ winter\+::\+IOManager\+::\+Get\+This}())
\begin{DoxyCompactList}\small\item\em 构造函数 \end{DoxyCompactList}\item 
\mbox{\label{classwinter_1_1TcpServer_a3f0fd0c957d9ac2e9ee10d76dd2f49ad}} 
virtual \textbf{ $\sim$\+Tcp\+Server} ()
\begin{DoxyCompactList}\small\item\em 析构函数 \end{DoxyCompactList}\item 
virtual bool \textbf{ bind} (winter\+::\+Address\+::ptr addr, bool ssl=false)
\begin{DoxyCompactList}\small\item\em 绑定地址 \end{DoxyCompactList}\item 
virtual bool \textbf{ bind} (const std\+::vector$<$ Address\+::ptr $>$ \&addrs, std\+::vector$<$ Address\+::ptr $>$ \&fails, bool ssl=false)
\begin{DoxyCompactList}\small\item\em 绑定地址数组 \end{DoxyCompactList}\item 
virtual bool \textbf{ start} ()
\begin{DoxyCompactList}\small\item\em 启动服务 \end{DoxyCompactList}\item 
\mbox{\label{classwinter_1_1TcpServer_aca982f331c1e9fa40b92d0b0a822b807}} 
virtual void \textbf{ stop} ()
\begin{DoxyCompactList}\small\item\em 停止服务 \end{DoxyCompactList}\item 
\mbox{\label{classwinter_1_1TcpServer_a74a3e6f697536fb7f258ec937e5b8365}} 
uint64\+\_\+t \textbf{ get\+Recv\+Timeout} () const
\begin{DoxyCompactList}\small\item\em 返回读取超时时间(毫秒) \end{DoxyCompactList}\item 
\mbox{\label{classwinter_1_1TcpServer_a2887621b21c16fe5a2d39baf8fb07abf}} 
std\+::string \textbf{ get\+Name} () const
\begin{DoxyCompactList}\small\item\em 返回服务器名称 \end{DoxyCompactList}\item 
\mbox{\label{classwinter_1_1TcpServer_a819cb3d55287553eb2f14304164f3e47}} 
void \textbf{ set\+Recv\+Timeout} (uint64\+\_\+t v)
\begin{DoxyCompactList}\small\item\em 设置读取超时时间(毫秒) \end{DoxyCompactList}\item 
\mbox{\label{classwinter_1_1TcpServer_a1a601a80c5aec9067fa2bf9c1eea869e}} 
void \textbf{ set\+Name} (const std\+::string \&v)
\begin{DoxyCompactList}\small\item\em 设置服务器名称 \end{DoxyCompactList}\item 
\mbox{\label{classwinter_1_1TcpServer_ab3c9323aa3712124bcba7f1f7ffbc298}} 
bool \textbf{ is\+Stop} () const
\begin{DoxyCompactList}\small\item\em 是否停止 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{classwinter_1_1TcpServer_aaf02c1aa7a1195799bda0b0ee4b41e94}} 
virtual void \textbf{ handle\+Client} (Socket\+::ptr client)
\begin{DoxyCompactList}\small\item\em 处理新连接的\+Socket类 \end{DoxyCompactList}\item 
\mbox{\label{classwinter_1_1TcpServer_ae36b980cfe9099462ac58bd991a82eab}} 
virtual void \textbf{ start\+Accept} (Socket\+::ptr sock)
\begin{DoxyCompactList}\small\item\em 开始接受连接 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
TCP服务器封装 

\doxysubsection{构造及析构函数说明}
\mbox{\label{classwinter_1_1TcpServer_a9083be6ae9c922c6b6470a99b3d0251c}} 
\index{winter::TcpServer@{winter::TcpServer}!TcpServer@{TcpServer}}
\index{TcpServer@{TcpServer}!winter::TcpServer@{winter::TcpServer}}
\doxysubsubsection{TcpServer()}
{\footnotesize\ttfamily winter\+::\+Tcp\+Server\+::\+Tcp\+Server (\begin{DoxyParamCaption}\item[{\textbf{ winter\+::\+IOManager} $\ast$}]{woker = {\ttfamily \textbf{ winter\+::\+IOManager\+::\+Get\+This}()},  }\item[{\textbf{ winter\+::\+IOManager} $\ast$}]{accept\+\_\+woker = {\ttfamily \textbf{ winter\+::\+IOManager\+::\+Get\+This}()} }\end{DoxyParamCaption})}



构造函数 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em woker} & socket客户端工作的协程调度器 \\
\hline
\mbox{\texttt{ in}}  & {\em accept\+\_\+woker} & 服务器socket执行接收socket连接的协程调度器 \\
\hline
\end{DoxyParams}


\doxysubsection{成员函数说明}
\mbox{\label{classwinter_1_1TcpServer_aef6516600294c185efe0030f88c70b9d}} 
\index{winter::TcpServer@{winter::TcpServer}!bind@{bind}}
\index{bind@{bind}!winter::TcpServer@{winter::TcpServer}}
\doxysubsubsection{bind()\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily bool winter\+::\+Tcp\+Server\+::bind (\begin{DoxyParamCaption}\item[{const std\+::vector$<$ Address\+::ptr $>$ \&}]{addrs,  }\item[{std\+::vector$<$ Address\+::ptr $>$ \&}]{fails,  }\item[{bool}]{ssl = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



绑定地址数组 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em addrs} & 需要绑定的地址数组 \\
\hline
\mbox{\texttt{ out}}  & {\em fails} & 绑定失败的地址 \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{返回}
是否绑定成功 
\end{DoxyReturn}
函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwinter_1_1TcpServer_aef6516600294c185efe0030f88c70b9d_cgraph}
\end{center}
\end{figure}
\mbox{\label{classwinter_1_1TcpServer_af6ce89e363d8668f5b93a73b58d46a9f}} 
\index{winter::TcpServer@{winter::TcpServer}!bind@{bind}}
\index{bind@{bind}!winter::TcpServer@{winter::TcpServer}}
\doxysubsubsection{bind()\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily bool winter\+::\+Tcp\+Server\+::bind (\begin{DoxyParamCaption}\item[{winter\+::\+Address\+::ptr}]{addr,  }\item[{bool}]{ssl = {\ttfamily false} }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



绑定地址 

\begin{DoxyReturn}{返回}
返回是否绑定成功 
\end{DoxyReturn}
\mbox{\label{classwinter_1_1TcpServer_a0e99b0cb104002b57d99b0f451b61897}} 
\index{winter::TcpServer@{winter::TcpServer}!start@{start}}
\index{start@{start}!winter::TcpServer@{winter::TcpServer}}
\doxysubsubsection{start()}
{\footnotesize\ttfamily bool winter\+::\+Tcp\+Server\+::start (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [virtual]}}



启动服务 

\begin{DoxyPrecond}{前置条件}
需要bind成功后执行 
\end{DoxyPrecond}
函数调用图\+:\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classwinter_1_1TcpServer_a0e99b0cb104002b57d99b0f451b61897_cgraph}
\end{center}
\end{figure}


该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
\textbf{ tcp\+\_\+server.\+h}\item 
tcp\+\_\+server.\+cc\end{DoxyCompactItemize}
