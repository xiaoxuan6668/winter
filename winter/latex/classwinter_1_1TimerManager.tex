\doxysection{winter\+::Timer\+Manager类 参考}
\label{classwinter_1_1TimerManager}\index{winter::TimerManager@{winter::TimerManager}}


定时器管理器  




{\ttfamily \#include $<$timer.\+h$>$}



类 winter\+::Timer\+Manager 继承关系图\+:
% FIG 0


winter\+::Timer\+Manager 的协作图\+:
% FIG 1
\doxysubsection*{Public 类型}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{classwinter_1_1TimerManager_af858bd7e7ae2514810162d942e1c9961}} 
typedef \textbf{ RWMutex} \textbf{ RWMutex\+Type}
\begin{DoxyCompactList}\small\item\em 读写锁类型 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Public 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{classwinter_1_1TimerManager_a84bdd355209c5329a1205b42c6189342}} 
\textbf{ Timer\+Manager} ()
\begin{DoxyCompactList}\small\item\em 构造函数 \end{DoxyCompactList}\item 
\mbox{\label{classwinter_1_1TimerManager_a3511cd5dd068026f63e90325f78974e4}} 
virtual \textbf{ $\sim$\+Timer\+Manager} ()
\begin{DoxyCompactList}\small\item\em 析构函数 \end{DoxyCompactList}\item 
\textbf{ Timer\+::ptr} \textbf{ add\+Timer} (uint64\+\_\+t ms, std\+::function$<$ void()$>$ cb, bool recurring=false)
\begin{DoxyCompactList}\small\item\em 添加定时器 \end{DoxyCompactList}\item 
\textbf{ Timer\+::ptr} \textbf{ add\+Condition\+Timer} (uint64\+\_\+t ms, std\+::function$<$ void()$>$ cb, std\+::weak\+\_\+ptr$<$ void $>$ weak\+\_\+cond, bool recurring=false)
\begin{DoxyCompactList}\small\item\em 添加条件定时器 \end{DoxyCompactList}\item 
\mbox{\label{classwinter_1_1TimerManager_ad2e2d3d63e8cedbc360c29e535274625}} 
uint64\+\_\+t \textbf{ get\+Next\+Timer} ()
\begin{DoxyCompactList}\small\item\em 到最近一个定时器执行的时间间隔(毫秒) \end{DoxyCompactList}\item 
void \textbf{ list\+Expired\+Cb} (std\+::vector$<$ std\+::function$<$ void()$>$ $>$ \&cbs)
\begin{DoxyCompactList}\small\item\em 获取需要执行的定时器的回调函数列表 \end{DoxyCompactList}\item 
\mbox{\label{classwinter_1_1TimerManager_ad56be6455820b6678a81ecc7723e1a2b}} 
bool \textbf{ has\+Timer} ()
\begin{DoxyCompactList}\small\item\em 是否有定时器 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Protected 成员函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{classwinter_1_1TimerManager_ac3a6c2abacd7a64b3be02893040994b2}} 
virtual void \textbf{ on\+Timer\+Inserted\+At\+Front} ()=0
\begin{DoxyCompactList}\small\item\em 当有新的定时器插入到定时器的首部,执行该函数 \end{DoxyCompactList}\item 
\mbox{\label{classwinter_1_1TimerManager_a2865d5ee8f591ca7d2c9ec371d10f7da}} 
void \textbf{ add\+Timer} (\textbf{ Timer\+::ptr} val, \textbf{ RWMutex\+Type\+::\+Write\+Lock} \&lock)
\begin{DoxyCompactList}\small\item\em 将定时器添加到管理器中 \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{友元}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{classwinter_1_1TimerManager_a50de43af5bed41f30c071d8cce0e81bc}} 
class {\bfseries Timer}
\end{DoxyCompactItemize}


\doxysubsection{详细描述}
定时器管理器 

\doxysubsection{成员函数说明}
\mbox{\label{classwinter_1_1TimerManager_a49b00fce684f2c32a54abff109b80697}} 
\index{winter::TimerManager@{winter::TimerManager}!addConditionTimer@{addConditionTimer}}
\index{addConditionTimer@{addConditionTimer}!winter::TimerManager@{winter::TimerManager}}
\doxysubsubsection{addConditionTimer()}
{\footnotesize\ttfamily \textbf{ Timer\+::ptr} winter\+::\+Timer\+Manager\+::add\+Condition\+Timer (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{ms,  }\item[{std\+::function$<$ void()$>$}]{cb,  }\item[{std\+::weak\+\_\+ptr$<$ void $>$}]{weak\+\_\+cond,  }\item[{bool}]{recurring = {\ttfamily false} }\end{DoxyParamCaption})}



添加条件定时器 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em ms} & 定时器执行间隔时间 \\
\hline
\mbox{\texttt{ in}}  & {\em cb} & 定时器回调函数 \\
\hline
\mbox{\texttt{ in}}  & {\em weak\+\_\+cond} & 条件 \\
\hline
\mbox{\texttt{ in}}  & {\em recurring} & 是否循环 \\
\hline
\end{DoxyParams}
\mbox{\label{classwinter_1_1TimerManager_a2248be0553854f3eb088755cc843f51d}} 
\index{winter::TimerManager@{winter::TimerManager}!addTimer@{addTimer}}
\index{addTimer@{addTimer}!winter::TimerManager@{winter::TimerManager}}
\doxysubsubsection{addTimer()}
{\footnotesize\ttfamily \textbf{ Timer\+::ptr} winter\+::\+Timer\+Manager\+::add\+Timer (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{ms,  }\item[{std\+::function$<$ void()$>$}]{cb,  }\item[{bool}]{recurring = {\ttfamily false} }\end{DoxyParamCaption})}



添加定时器 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em ms} & 定时器执行间隔时间 \\
\hline
\mbox{\texttt{ in}}  & {\em cb} & 定时器回调函数 \\
\hline
\mbox{\texttt{ in}}  & {\em recurring} & 是否循环定时器 \\
\hline
\end{DoxyParams}
\mbox{\label{classwinter_1_1TimerManager_a6af1387ddef3f8eee96dfe05976db612}} 
\index{winter::TimerManager@{winter::TimerManager}!listExpiredCb@{listExpiredCb}}
\index{listExpiredCb@{listExpiredCb}!winter::TimerManager@{winter::TimerManager}}
\doxysubsubsection{listExpiredCb()}
{\footnotesize\ttfamily void winter\+::\+Timer\+Manager\+::list\+Expired\+Cb (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::function$<$ void()$>$ $>$ \&}]{cbs }\end{DoxyParamCaption})}



获取需要执行的定时器的回调函数列表 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ out}}  & {\em cbs} & 回调函数数组 \\
\hline
\end{DoxyParams}


该类的文档由以下文件生成\+:\begin{DoxyCompactItemize}
\item 
\textbf{ timer.\+h}\item 
timer.\+cc\end{DoxyCompactItemize}
