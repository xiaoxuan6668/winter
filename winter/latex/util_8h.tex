\doxysection{util.\+h 文件参考}
\label{util_8h}\index{util.h@{util.h}}


常用的工具函数  


{\ttfamily \#include $<$pthread.\+h$>$}\newline
{\ttfamily \#include $<$unistd.\+h$>$}\newline
{\ttfamily \#include $<$sys/types.\+h$>$}\newline
{\ttfamily \#include $<$sys/syscall.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$vector$>$}\newline
{\ttfamily \#include $<$string$>$}\newline
util.\+h 的引用(Include)关系图\+:
% FIG 0
此图展示该文件直接或间接的被哪些文件引用了\+:
% FIG 1
\doxysubsection*{函数}
\begin{DoxyCompactItemize}
\item 
\mbox{\label{util_8cc_abf0e92f7f551fae060f710467401bb02}} 
pid\+\_\+t {\bfseries winter\+::\+Get\+Thread\+Id} ()
\begin{DoxyCompactList}\small\item\em 返回当前线程的\+ID \end{DoxyCompactList}\item 
\mbox{\label{util_8cc_a9dcfc151c6c70664a7d66706e28b4225}} 
uint32\+\_\+t {\bfseries winter\+::\+Get\+Fiber\+Id} ()
\begin{DoxyCompactList}\small\item\em 返回当前协程的\+ID \end{DoxyCompactList}\item 
void {\bfseries winter\+::\+Backtrace} (std\+::vector$<$ std\+::string $>$ \&bt, int size=64, int skip=1)
\begin{DoxyCompactList}\small\item\em 获取当前的调用栈 \end{DoxyCompactList}\item 
std\+::string {\bfseries winter\+::\+Backtrace\+To\+String} (int size=64, int skip=2, const std\+::string \&prefix=\char`\"{}\char`\"{})
\begin{DoxyCompactList}\small\item\em 获取当前栈信息的字符串 \end{DoxyCompactList}\item 
\mbox{\label{util_8cc_ac18d88b6f6899a7cb4c62d96a723980a}} 
uint64\+\_\+t {\bfseries winter\+::\+Get\+Current\+MS} ()
\begin{DoxyCompactList}\small\item\em 获取当前时间的毫秒 \end{DoxyCompactList}\item 
\mbox{\label{util_8cc_a12c5eea6c9eba208801d976480fa9c89}} 
uint64\+\_\+t {\bfseries winter\+::\+Get\+Current\+US} ()
\begin{DoxyCompactList}\small\item\em 获取当前时间的微秒 \end{DoxyCompactList}\item 
\mbox{\label{util_8cc_a90a73a2e83413c4c76eabb56c7ca816a}} 
std\+::string {\bfseries winter\+::\+Time2\+Str} (time\+\_\+t ts=time(0), const std\+::string \&format=\char`\"{}\%Y-\/\%m-\/\%d \%H\+:\%M\+:\%S\char`\"{})
\begin{DoxyCompactList}\small\item\em 时间转换成Y-\/m-\/d H\+:M\+:S 格式 \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{详细描述}
常用的工具函数 



\doxysubsection{函数说明}
\mbox{\label{util_8cc_a90d17b7e967bd9edfa8301d92acf1439}} 
\index{util.h@{util.h}!Backtrace@{Backtrace}}
\index{Backtrace@{Backtrace}!util.h@{util.h}}
\doxysubsubsection{Backtrace()}
{\footnotesize\ttfamily void winter\+::\+Backtrace (\begin{DoxyParamCaption}\item[{std\+::vector$<$ std\+::string $>$ \&}]{bt,  }\item[{int}]{size = {\ttfamily 64},  }\item[{int}]{skip = {\ttfamily 1} }\end{DoxyParamCaption})}



获取当前的调用栈 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ out}}  & {\em bt} & 保存调用栈 \\
\hline
\mbox{\texttt{ in}}  & {\em size} & 最多返回层数 \\
\hline
\mbox{\texttt{ in}}  & {\em skip} & 跳过栈顶的层数 \\
\hline
\end{DoxyParams}
\mbox{\label{util_8cc_a8976fc5a58041a925d2b3c2cb5ec93d1}} 
\index{util.h@{util.h}!BacktraceToString@{BacktraceToString}}
\index{BacktraceToString@{BacktraceToString}!util.h@{util.h}}
\doxysubsubsection{BacktraceToString()}
{\footnotesize\ttfamily std\+::string winter\+::\+Backtrace\+To\+String (\begin{DoxyParamCaption}\item[{int}]{size = {\ttfamily 64},  }\item[{int}]{skip = {\ttfamily 2},  }\item[{const std\+::string \&}]{prefix = {\ttfamily \char`\"{}\char`\"{}} }\end{DoxyParamCaption})}



获取当前栈信息的字符串 


\begin{DoxyParams}[1]{参数}
\mbox{\texttt{ in}}  & {\em size} & 栈的最大层数 \\
\hline
\mbox{\texttt{ in}}  & {\em skip} & 跳过栈顶的层数 \\
\hline
\mbox{\texttt{ in}}  & {\em prefix} & 栈信息前输出的内容 \\
\hline
\end{DoxyParams}
